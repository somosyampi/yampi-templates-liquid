<div class="dropdown category-subcategory-menu">
  <div class="holder-categories">
    <div class="mobile -block">
      <div class="close-dropdown inline-block -ml">
        Voltar
      </div>

      <div class="category-title">
        Categorias
      </div>
    </div>

    <ul>
      {% for category in categories %}
        <li is="category-dropdown" class="dropdown-holder item-category {{ category.slug }} {% if category.children.size > 0 -%} has-subcategory {%- endif -%}">
          <a class="block" href="{{ category.url_path }}">
            {{ category.name }}
            {% if category.children.size > 0 %}
              {% render 'icon-arrow' %}
            {% endif %}
          </a>
          {% if category.children.size > 0 %}
            <div class="dropdown -simple holder-sub-categories">
              <div class="close-dropdown mobile -inline-block">
                Voltar
              </div>

              <div class="parent-category-name">
                {{ category.name }}
              </div>

              <ul>
                <li class="all-products">
                  <a class="block" href="{{ category.url_path }}">
                    Todos os produtos
                  </a>
                </li>

                {% for subcategory in category.children %}
                  <li class="item-sub-category {{ subcategory.slug }}">
                    <a class="block" href="{{ subcategory.url_path }}">
                      {{ subcategory.name }}
                    </a>
                  </li>
                {% endfor %}
              </ul>
            </div>
          {% endif %}
        </li>
      {% endfor %}
    </ul>
  </div>
</div>